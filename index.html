<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>YASGUI</title>
    <link rel="icon"  type="image/png" href="doc/imgs/favicon.png">
    <link href="dist/yasgui.min.css" rel="stylesheet" type="text/css" />
    <link href="doc/doc.min.css" rel="stylesheet" type="text/css" />
    <link href="node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

  <div style="padding: 20px;" role="main">
  	<div class="row" id="aboutYQuery">
    	<div class="col-md-12">
      	<h1>eccenca YASGUI</h1>
      	<p>eccenca YASGUI is a version of <a target="_blank" href="http://about.yasgui.org/">YASGUI<i class="fa fa-external-link" aria-hidden="true"></i></a> with capability of endpoint browsing inspired by <a target="_blank" href="https://github.com/kurtjx/SNORQL">Snorql<i class="fa fa-external-link" aria-hidden="true"></i></a>.</p>
        <div class="yasr">
          <div class="yasr_btnGroup">
            <button class="yasr_btn" onclick="superclasses();">Super Classes</button>
            <button class="yasr_btn" onclick="classes();">Classes</button>
            <button class="yasr_btn" onclick="properties();">Properties</button>
          </div>
        </div>
        <p></p>
        <br />
      	<div id="showcase"></div>
    	</div>
  	</div>
  </div> <!-- /container -->

<script src="dist/yasgui.min.js"></script>
<script src="doc/doc.min.js"></script>
<script type="text/javascript">
  var yasgui = YASGUI(document.getElementById("showcase"));
  
  //todo: find way to update GUI component / or re-init with other default endpoint
  //yasgui.current().yasqe.options.sparql.endpoint = "http://docker.local/sparql";

  function superclasses() {
    var qry = "\
SELECT DISTINCT ?class \n \
WHERE { [] rdfs:subClassOf ?class } \n \
ORDER BY ?class";

    var curTab = yasgui.current(); 
    curTab.yasqe.setValue(qry);
    curTab.yasqe.query();
  }

  function classes() {
    var qry = "\
SELECT DISTINCT ?class \n \
WHERE { [] a ?class } \n \
ORDER BY ?class";

    var curTab = yasgui.current(); 
    curTab.yasqe.setValue(qry);
    curTab.yasqe.query();
  }

  function properties() {
    var qry = "\
SELECT DISTINCT ?property \n \
WHERE { [] ?property [] } \n \
ORDER BY ?property";

    var curTab = yasgui.current(); 
    curTab.yasqe.setValue(qry);
    curTab.yasqe.query();
  }

  function descr(uri) {
    if (uri != null && uri != "") {
        var qry = "\
SELECT DISTINCT ?property ?hasValue ?isValueOf \n \
WHERE { \n \
  { <"+uri+"> ?property ?hasValue } \n \
  UNION \n \
  { ?isValueOf ?property <"+uri+"> } \n \
} \n \
ORDER BY (!BOUND(?hasValue)) ?property ?hasValue ?isValueOf";
    var curTab = yasgui.current(); 
    curTab.yasqe.setValue(qry);
    curTab.yasqe.query();
    }
  }
</script>
</body>
</html>
